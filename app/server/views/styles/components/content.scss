/**
 * Content
 *
 * Components for written tutorials, videos and screencasts
 *
 * 1. Written Tutorial
 *
 * 1a. Written Tutorial (Dark)
 *
 * 1b. Written Tutorial (Event)
 *
 * 2. Light code blocks
 *
 * 3. Admin Edit Banner
 *
 * 4. Sticky Options Banner
 *
 * 5. Book Chapter
 *
 * 5a. Book Chapter (Dedications)
 *
 */

/* ==========================================================================
 1. Written Tutorial
 ========================================================================== */

article.c-written-tutorial{
  padding-top: 60px;
  padding-bottom: 60px;

  @include breakpoint("mobile"){
    padding-top: 0;
    margin-top: 0;
    overflow: hidden;
  }

  header{

    display: grid;
    grid-template-columns: 1fr 210px;
    grid-column-gap: 25px;
    @extend %a-fade-in-up-20;

    @include breakpoint($maxWidth: 1280px){
      grid-column-gap: 30px;
    }

    @include breakpoint($maxWidth: 1080px){
      grid-template-columns: 1fr 250px;
    }

    @include breakpoint("mobile-large"){
      grid-template-columns: 1fr 200px;
    }

    @include breakpoint("mobile"){
      display: grid;
      grid-template-columns: 1fr;
      padding: 0;
      animation: none;
    }

    h1{
      line-height: 1;
      color: $black-mine-shaft;
      word-break: break-word;
      font-size: 2.625rem; /* 42/16 */

      @include breakpoint("mobile-large"){
        font-size: 2.25rem; /* 36/16 */
      }

      @include breakpoint("mobile"){
        font-size: 1.875rem; /* 36/16 */
      }

    }

    .c-written-tutorial__pull-quote{
      font-family: $article;
      font-size: 1.0625rem; /* 18/16 */
    }

    .o-button--green{
      margin-left: 0 !important;
      margin-right: 0 !important;
    }

    .c-written-tutorial__breadcrumbs{
      a {
        color: $grey-raven;

        @include breakpoint("mobile-large"){
          font-size: 0.9375rem; /* 15/16 */
        }

      }
    }

    .c-written-tutorial__introduction{
      @include breakpoint("mobile"){
        order: 2;
        margin-left: -20px;
        padding: 20px 20px 0 20px;
        background: $white;
        z-index: 2;
      }

      .o-button--bookmark{
        .o-button__svg{
          margin-top: -10px;
        }
      }

    }

    .c-written-tutorial__artwork{
      width: 100%;
      @extend %a-scale-in;

      @include breakpoint("mobile"){
        order: 1;
        margin-bottom: -60px;
        margin-left: -20px;
        width: calc(100% + 40px);
        animation: none;
        z-index: 1;
      }

      img{
        width: 282px;
        height: 282px;
        background: $grey-lynch;
        border-radius: 21px;
        box-shadow: $big-box-shadow;

        @include breakpoint($maxWidth: 1080px){
          width: 250px;
          height: 250px;
        }

        @include breakpoint("mobile-large"){
          width: 200px;
          height: 200px;
        }

        @include breakpoint("mobile"){
          display: flex;
          margin: 0 auto;
          width: 100%;
          height: auto;
          border-radius: 0;
          box-shadow: none;
        }

      }

      figcaption{
        font-size: 0.9375rem; /* 15/16 */
        color: $grey-raven;
      }

    }

    .c-written-tutorial__meta{
      font-size: 0.9375rem; /* 15/16 */
    }

  }

  .c-written-tutorial__content{
    @extend %a-fade-in-up-20;

    @include breakpoint("tablet"){
      overflow: hidden;
    }

    @include breakpoint("mobile-large"){
      padding: 0;
      margin-top: 24px;
    }

    .c-draper-obfuscate-nudge {
      padding-top: 18px !important;
      margin-top: 30px !important;
      margin-bottom: 30px !important;

      p {
        font-family: $header !important;
      }

      .l-obfuscated-text {
        display: inline-block;
        width: 104px;
        text-align: center;
        background: #F4C3C3;
      }

    }

    .c-written-tutorial__content-footer{
      display: flex;

      @include breakpoint("mobile"){
        display: block;
      }

      .c-written-tutorial__content-tags{
        width: 100%;
        padding-right: 45px;
      }

      .c-written-tutorial__content-share{
        display: flex;
        align-items: flex-start;
        margin-left: auto;

        @include breakpoint("mobile"){
          margin-top: 30px;
        }

        button{
          margin-left: 6px;
        }

        .o-button--bookmark{
          height: 28px;
          line-height: 28px;
          padding: 0;

          @include breakpoint("mobile"){
            margin-left: auto;
          }

          svg{
            margin-top: -10px;
          }

        }

      }

    }

    h1, h2{
      font-size: 1.6875rem; /* 27/16 */
      margin-top: 27px;

      @include breakpoint("mobile-large"){
        font-size: 1.5rem; /* 24/16 */
      }

    }

    h3{
      font-size: 1.3125rem; /* 21/16 */
      margin-top: 24px;

      @include breakpoint("mobile-large"){
        font-size: 1.3125rem; /* 21/16 */
      }

    }

    h4{
      font-size: 1.125rem; /* 18/16 */
      margin-top: 18px;
    }

    h1, h2, h3, h4, h5{
      margin-top: 36px;
      color: $black-mine-shaft;

      a{
        color: $green-brand;
      }
    }

    h2 + p, h3 + p, h4 + p{
      margin-top: 12px;

      @include breakpoint("mobile-large"){
        margin-top: 12px;
      }

    }

    h1 + span + p {
      margin-top: 10px;

      @include breakpoint("mobile-large"){
        margin-top: 10px !important;
      }

    }

    h2 + span + p {
      margin-top: 10px;

      @include breakpoint("mobile-large"){
        margin-top: 10px !important;
      }

    }

    h3 + span + p {
      margin-top: 10px;

      @include breakpoint("mobile-large"){
        margin-top: 10px !important;
      }

    }

    h4 + span + p {
      margin-top: 10px;

      @include breakpoint("mobile-large"){
        margin-top: 10px !important;
      }

    }

    h4 + span + p {
      margin-top: 10px !important;

      @include breakpoint("mobile-large"){
        margin-top: 10px !important; 
      }

    }

    p, ul, ol {
      font-family: $article;
      font-size: 1.0625rem; /* 18/16 */
      line-height: 1.58;
      margin-top: 18px;

      @include breakpoint("mobile-large"){
        font-size: 1rem;
      }

      a {
        color: $green-brand;
      }

      em, strong {
        font-weight: 700;
        font-style: normal;
      }

      i {
        font-style: italic;
      }

    }

    ul, ol{
      padding-left: 24px;

      li{
        margin-top: .5rem;
      }
    }

    ul{
      li{
        list-style: square;
      }
    }

    div.note{
      font-family: $article;
      background: $grey-black-squeeze;
      font-size: 1rem; /* 17/16 */
      padding: 20px 24px;
      border-radius: $border-radius;
      margin-top: 18px;

      pre {
        margin-left: 0px;
        width: 100%;
      }

      @include breakpoint("mobile-large"){
        font-size: 0.9375rem; /* 15/16 */
      }

      em{
        font-weight: 700;
        font-style: normal;
      }

      p{
        font-size: 1.0625rem;

        @include breakpoint("mobile-large"){
          font-size: 0.9375rem; /* 15/16 */
        }

        &:first-child{
          margin-top: 0;
        }
      }

      a{
        color: $green-brand;
      }

    }

    pre, code{
      word-wrap: break-word;
    }

    pre{
      font-family: "Menlo", monospace !important;
      font-size: 0.8125rem; /* 13/16 */
      background: $black-gradient;
      border-radius: $border-radius;
      padding: 15px;
      color: $white;
      margin-top: 18px;
      position: relative;
      padding-right: 80px;
      margin-left: -16px;
      width: calc(100% + 32px);
      white-space: pre-wrap;

      @include breakpoint("tablet"){
        width: 100%;
        margin-left: 0;
      }

      @include breakpoint("mobile-large"){
        font-size: 0.75rem; /* 12/16 */
      }

    }

    .c-spoiler pre {
      margin-left: 0px;
      width: 100%;
    }

    code{
      font-family: "Menlo", monospace;
      font-size: 0.875rem; /* 14/16 */
      padding: 0 6px;
      border: 1px solid $grey-periwinkle;
      background: $grey-black-squeeze;
      border-radius: 5px;

      @include breakpoint("mobile-large"){
        font-size: 0.8125rem; /* 13/16 */
      }

    }

    img, .wp-video{
      margin: 0 auto;
      display: flex;
      max-width: 100%;
      height: auto;
    }

    .bordered{
      border: .75rem solid $grey-catskill;
      border-radius: $border-radius;
    }

    .wp-caption{
      margin: 36px auto;
    }

    .wp-caption-text{
      font-size: 0.9375rem; /* 15/16 */
      color: $grey-raven;
      margin-top: 9px;
    }

    .o-button--files{
      @include breakpoint("mobile-large"){
        display: none;
      }
    }

    .c-written-tutorial__content-iframe{
      position: relative;
      padding-bottom: 56.25%;
      margin: 36px 0;

      iframe{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

    }

    .c-spoiler {
      text-align: center;

      &.c-spoiler--revealed {
        .c-spoiler__answer {
          display: block;
        }
        .o-button {
          display: none;
        }
      }

      .c-spoiler__answer {
        text-align: left;
        font-family: $article;
        background: $grey-black-squeeze;
        font-size: 1.0625rem; /* 17/16 */
        padding: 20px 24px;
        border-radius: $border-radius;
        margin-top: 24px;
        display: none;

        @include breakpoint("mobile-large"){
          font-size: 0.9375rem; /* 15/16 */
        }

        em{
          font-weight: 700;
          font-style: normal;
        }

        p{
          font-size: 1.0625rem;

          @include breakpoint("mobile-large"){
            font-size: 0.9375rem; /* 15/16 */
          }

          &:first-child{
            margin-top: 0;
          }
        }

        a{
          color: $green-brand;
        }

      }

    }

  }

}

/* ==========================================================================
 1b. Written Tutorial (Event)
 ========================================================================== */

 article.c-written-tutorial {

   &.c-written-tutorial--event {
      padding: 0;
      height: 100%;
      min-height: 100vh;

      header {
        display: block;
        padding: 60px 0;
        animation: none;
        background: #E2E6F7;

        .c-written-tutorial__introduction {
          @include breakpoint("mobile-large"){
            background: none;
            margin-left: 0;
            padding: 0;
          }
        }

        h1 {
          font-size: 4rem;

          @include breakpoint("mobile-large"){
            font-size: 2.5rem;
          }

          > span {
            display: none;
            font-size: 3rem;
          }

        }

        .c-written-tutorial__pull-quote {
          font-family: $header;
        }

        p {
          @include breakpoint("mobile-large"){
            font-size: 15px;
          }
        }

      }

      header.c-written-tutorial--event-header { 
        background: none;
        padding: 360px 0 0 0;
        position: relative;
        overflow: hidden;

        @include breakpoint("mobile-large"){
          padding: 180px 0 0 0;
        }

        @include breakpoint("mobile"){
          padding: 150px 0 0 0;
        }

        .c-written-tutorial__introduction {
          background: #ffffff;
          position: relative;
          padding-right: 90px;
          padding-bottom: 30px;

          @include breakpoint("mobile-large"){
            padding-right: 30px;
            padding-bottom: 0;
          }

          &:before {
            content: "";
            width: 10000px;
            height: 100%;
            position: absolute;
            left: -10000px;
            top: 0;
            background: #ffffff;
          }

          h1 {
            padding-top: 30px;

            @include breakpoint("mobile-large"){
              font-size: 2.0625rem; /* 33/16 */
            }

          }

          p {
            font-size: 1.1875rem; /* 19/16 */

            @include breakpoint("mobile-large"){
              font-size: 0.9375rem; /* 15/16 */
            }

          }

        }

      }

      .c-written-tutorial--event-artwork {
        width: 100%;
        padding-top: 50%;
        overflow: hidden;
        position: absolute;
        top: 0;
        left: 0;
        z-index: -1;

        img {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;

          @include breakpoint("mobile"){
            width: 150%;
            margin-left: -25%;
          }

        }

       }

      .c-written-tutorial__content {
        padding-bottom: 120px;

        @include breakpoint("mobile-large"){
          padding-left: 20px;
          padding-right: 20px;
        }

        > h2 {
          font-size: 2.5rem;

          @include breakpoint("mobile-large"){
            font-size: 1.5rem;
          }

          a {
            color: $black-mine-shaft;
          }

        }

        > span {
          display: block;
          font-size: 0.75rem; /* 12/16 */
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: .5px;
          margin-top: 15px;
        }

        img.bordered {
          border-width: 9px;

          @include breakpoint("mobile-large"){
            border-width: 6px;
          }

        }

      }

    }

 }

/* ==========================================================================
 2. Code block modifier to light
 ========================================================================== */

.l-written-tutorial--light{
  pre{
    border: 1px solid $grey-periwinkle !important;
    background: $grey-black-squeeze !important;
    color: $black-mine-shaft !important;
  }

  // This switches the default sun button for a moon
  .o-button-code{
    background-image: url(../images/svg-icons/dark.png);
    background-size: cover;

    &:hover{
      background: #647388;
      background-image: url(../images/svg-icons/dark.png);
      background-size: cover;
    }
  }
}

/* ==========================================================================
 3. Admin Edit Banner
 ========================================================================== */

.c-admin-edit-banner{
  background: $black-mine-shaft;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: fixed;
  bottom: 0;
  width: 100%;
  padding: 12px 15px;
  z-index: 99999;

  @include breakpoint("mobile-large"){
    justify-content: center;
  }

  a, span{
    font-size: 0.9375rem; /* 15/16 */
    font-weight: 600;
    color: $white;
    text-decoration: none;
  }

  a{
    cursor: pointer;
    margin-right: 18px;
  }

  .c-admin-edit-banner__links{
    @include breakpoint("tablet"){
      display: none;
    }
  }

  .c-admin-edit-banner__profile{
    @include breakpoint("mobile-large"){
      display: none;
    }

    .c-admin-edit-banner__profile-username{
      max-width: 100px;
      overflow: hidden;
      text-overflow: ellipsis;
      display: inline-block;
      white-space: nowrap;
    }

  }

  .o-text-button--warning{

    &:hover{
      .o-tooltip{
        opacity: 1;
        visibility: visible;
      }
    }

    li{
      display: block;
      max-width: 360px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      padding-left: 12px;
      position: relative;

      &:before{
        content: "";
        width: 3.5px;
        height: 13px;
        background-image: url(../images/svg-icons/warning.png);
        background-size: cover;
        position: absolute;
        left: 0;
        top: 9px;
      }

      @include breakpoint("mobile-large"){
        max-width: 200px;
      }

    }

    .o-tooltip{
      top: auto;
      bottom: 40px;
      line-height: 30px;
      height: auto;

      &:after{
        display: none;
      }

      @include breakpoint("tablet"){
        left: auto !important;
        right: 0;
        transform: none;
      }

      @include breakpoint("mobile-large"){
        left: 50% !important;
        right: auto;
        transform: translateX(-50%);
      }

    }

  }

}

/* ==========================================================================
 4. Sticky Options Banner
 ========================================================================== */

.c-sticky-options-banner{
  position: fixed;
  top: 10px;
  right: 30px;
  z-index: 99999;
  width: 27px;

  @include breakpoint("laptop"){
    display: none;
  }

  button{
    width: 27px;
    padding: 0;
    margin-top: 15px;

    i{
      width: 27px;
    }

  }

}

/* ==========================================================================
 5. Book Chapter
 ========================================================================== */

.c-book-chapter {
  padding-top: 30px !important;

  @include breakpoint("tablet"){
    padding-left: 24px;
    padding-right: 24px;
  }

  @include breakpoint("mobile-large"){
    padding-left: 24px !important;
    padding-right: 24px !important;
  }

  header {
    display: block !important;
    animation: none !important;

    h1 {
      margin-top: 20px;
    }

    .c-written-tutorial__introduction {
      @include breakpoint("mobile"){
        margin-left: 0 !important;
        padding: 0 !important;
      }

      .l-font-17 {
        @include breakpoint("mobile-large"){
          font-size: 1rem;
        }
      }

      .l-font-42 {
        @include breakpoint("mobile-large"){
          font-size: 2rem;
        }
      }

    }

  }

  .c-written-tutorial__content {
    animation: none !important;

    p, ul, ol {
      /* The base style sets em as bold, due to a legacy quirk in the style
       * used for articles in Wordpress. Books support <em> as italic and
       * <strong> as bold as is the convention for CommonMark.
       */
      strong {
        font-weight: 700 !important;
        font-style: normal !important;

        em {
          font-style: italic !important;
          font-weight: 700 !important;
        }
      }
  
      em {
        font-style: italic !important;
        font-weight: 400 !important;

        strong {
          font-style: italic !important;
          font-weight: 700 !important;
        }
      }
    }
  }

  h1, h2, h3, h4, h5 {
    code {
      font-size: inherit !important;
      font-family: inherit !important;
      background: none !important;
      border: 0 !important;
      padding: 0 !important;
    }

    em {
      font-style: normal;
    }

  }

  pre code {
    background: none !important;
    border: none !important;
    padding: 0 !important;
  }

  blockquote {
      font-family: inherit;
      background: $grey-black-squeeze;
      font-size: 1em; /* 17/16 */
      padding: 20px 24px;
      border-radius: $border-radius;
      margin-top: 18px;

      pre {
        margin-left: 0px;
        width: 100%;
      }

      @include breakpoint("mobile-large"){
        font-size: 0.9375rem; /* 15/16 */
      }

      strong {
        font-weight: 700;
        font-style: normal;
      }

      em {
        font-style: italic;
      }

      p{
        font-size: 1.0625rem;

        @include breakpoint("mobile-large"){
          font-size: 0.9375rem; /* 15/16 */
        }

        &:first-child{
          margin-top: 0;

          @include breakpoint("mobile-large"){
            margin-top: 0 !important;
          }

        }
      }

      a{
        color: $green-brand;
      }

    }

    figure {
      max-width: 720px;
      margin: 0 auto;

      img {
        max-height: 720px;
      }

      figcaption {
        margin-top: 12px;
        font-size: 0.9375em; /* 15/16 */
        color: $grey-raven;
        text-align: center;

        @include breakpoint("mobile-large"){
          font-size: 0.8125em; /* 13/16 */
        }

        @include breakpoint("mobile"){
          text-align: left;
        }

      }
    }

    .l-image-bordered{
      img {
        border: 9px solid $grey-catskill;
        border-radius: $border-radius;
      }
    }

}

.c-book-chapter__links {

  display: grid;
  grid-template-columns: 1fr;
  margin-top: 72px;

  a {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    font-family: $header;
    font-weight: 700;
    font-size: 1.125rem; /* 18/16 */
    height: 72px;
    line-height: 72px;
    text-decoration: none;
    text-align: center;
    color: $black-mine-shaft;
    border-top: 1px solid $grey-catskill;

    &:hover {
      background: #F5F8FB;
    }

    span {
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    svg {
      width: 17px;
      height: 15px;
      fill: $grey-chateau;
    }

  }

  .c-book-chapter__links--left {

    &:hover svg {
      transform: translateX(-5px);
    }

    span, svg {
      margin-right: auto;
      margin-right: auto;
    }

    span {
      margin-left: -41px;
    }

    svg {
      transition: all .25s;
      margin-left: 24px;
    }

  }

  .c-book-chapter__links--right {

    &:hover svg {
      transform: translateX(5px);
    }

    span, svg {
      margin-left: auto;
      margin-left: auto;
    }

    span {
      margin-right: -41px;
    }

    svg {
      transition: all .25s;
      margin-right: 24px;
    }

  }

}

/* ==========================================================================
 5a. Book Chapter (Dedications)
 ========================================================================== */

.c-book-chapter__dedications {
  max-width: 568px;
  margin-left: auto;
  margin-right: auto;
  padding-top: 18px;

  p {
    text-align: center;

    &:nth-child(even) {
      margin-top: 12px !important;
      margin-bottom: 48px;
    }

  }
}

/* ==========================================================================
 5b. Book Chapter (Team)
 ========================================================================== */

 .c-book-chapter__team {
  padding-top: 24px;

  @include breakpoint("mobile-large"){
    padding-top: 15px;
  }

  > div {
    display: flex;
    margin-bottom: 45px;

    @include breakpoint("mobile-large"){
      margin-bottom: 24px;
    }
  }

  figure {
    width: 180px;
    min-width: 180px;
    height: 180px;
    margin-right: 24px;

    @include breakpoint("mobile-large"){
      width: 60px;
      min-width: 60px;
      height: 60px;
      margin-right: 15px;
    }

    img {
      width: 100%;
      height: 100%;
    }

  }

  p {
    margin: 0 !important;

    strong {
      &:first-child {
        font-size: 1.6875rem; /* 27/16 */
        font-family: $header;
        font-weight: 700;

        @include breakpoint("mobile-large"){
          font-size: 1.1875rem; /* 19/16 */
        }

      }
    }

  }

  .l-image-bordered {
    img {
      @include breakpoint("mobile-large"){
        border-width: 4px !important;
      }
    }
  }


 }

